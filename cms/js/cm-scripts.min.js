"use strict";$(window).on("beforeunload ajaxStart",function(){$("body").prepend('<div data-ajax-loader><div class="loader"></div></div>')});$(window).on("ajaxStop",function(){$("body").find("[data-ajax-loader]").remove()});$(document).ready(function(){$("[data-low-uploader]").each(function(){uploader($(this),"low")});$("[data-fast-uploader]").each(function(){uploader($(this),"fast",$(this).data("action"))});$("[data-image-src]").each(function(){$(this).css("background-image",'url("'+$(this).data("image-src")+'")')});$('[data-modal="success"]').modal().onSuccess(function(){$("body").prepend('<div data-ajax-loader><div class="loader"></div></div>');location.reload()})});function checkFormValidations(b,a,c){b.find("[name]").parent().removeClass("error");b.find("[name]").parent().find("p.error").remove();if(a.status=="success"){c()}else{if(a.status=="error"){if(Array.isArray(a.message)){$.each(a.message,function(d,e){b.find('[name="'+e[0]+'"]').parent().addClass("error");b.find('[name="'+e[0]+'"]').parent().append('<p class="error">'+e[1]+"</p>")});b.find('input[name="'+a.message[0][0]+'"]').focus()}else{$('[data-modal="alert"] main > p').html(a.message);$('[data-modal="alert"]').addClass("view").animate({scrollTop:0},0)}}}}function uploader(c,a,b){c.find("a[data-select]").on("click",function(){c.find("input[data-select]").click()});c.find("input[data-select]").on("change",function(){if(a=="low"||a=="fast"){if($(this)[0].files[0].type.match($(this).attr("accept"))){var d=new FileReader();d.onload=function(f){if(a=="low"){c.find("figure[data-preview] > img").attr("src",f.target.result)}if(a=="fast"){$.ajax({url:"",type:"POST",data:"file="+f.target.result+"&action="+b,processData:false,cache:false,dataType:"json",success:function(e){if(e.status=="success"){$('[data-modal="success"] main > p').html(e.message);$('[data-modal="success"]').addClass("view").animate({scrollTop:0},0)}else{$('[data-modal="alert"] main > p').html(e.message);$('[data-modal="alert"]').addClass("view").animate({scrollTop:0},0)}}})}};d.readAsDataURL($(this)[0].files[0])}else{$('[data-modal="alert"] main > p').html("Archivo no permitido");$('[data-modal="alert"]').addClass("view").animate({scrollTop:0},0)}}})}function multipleSelection(b){var a=[];if(b.length>0){$.each(b,function(c,d){a.push(d.value)})}return a}function navScrollDown(c,b,a){var d={initialize:function(){$(document).each(function(){d.scroller()});$(document).on("scroll",function(){d.scroller()})},scroller:function(){if($(document).scrollTop()>a){$(c).addClass(b)}else{$(c).removeClass(b)}}};d.initialize()};